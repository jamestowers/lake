{"version":3,"sources":["transitions.coffee"],"names":[],"mappings":"AAAA;EAAM,IAAC,CAAA;IAEQ,qBAAA;MACX,OAAO,CAAC,GAAR,CAAY,yCAAZ;MACA,IAAC,CAAA,KAAD,GAAS,CAAA,CAAE,UAAF;MACT,IAAC,CAAA,OAAD,GACE;QAAA,KAAA,EAAO,IAAP;QACA,QAAA,EAAU,IADV;QAEA,WAAA,EAAa,CAFb;QAGA,KAAA,EAAO,MAHP;QAIA,YAAA,EAAc,SAJd;QAKA,SAAA,EAAW,UALX;QAMA,QAAA,EAAU,SAAC,cAAD,EAAiB,UAAjB;iBACR,OAAO,CAAC,GAAR,CAAY,sDAAZ;QADQ,CANV;QAQA,OAAA,EACE;UAAA,QAAA,EAAU,GAAV;UACA,MAAA,EAAQ,CAAA,SAAA,KAAA;mBAAA,SAAC,UAAD;cACN,UAAU,CAAC,QAAX,CAAoB,aAApB;cACA,QAAQ,CAAC,WAAT,CAAA;cACA,KAAC,CAAA,WAAW,CAAC,oBAAb,CAAA;YAHM;UAAA,CAAA,CAAA,CAAA,IAAA,CADR;SATF;QAeA,UAAA,EACE;UAAA,QAAA,EAAU,CAAV;UACA,MAAA,EAAQ,SAAC,UAAD;mBACN,OAAO,CAAC,GAAR,CAAY,2CAAZ;UADM,CADR;SAhBF;QAmBA,OAAA,EACE;UAAA,QAAA,EAAU,CAAV;UACA,MAAA,EAAQ,CAAA,SAAA,KAAA;mBAAA,SAAC,UAAD,EAAa,WAAb;cACN,UAAU,CAAC,WAAX,CAAuB,aAAvB;cACA,UAAU,CAAC,IAAX,CAAgB,WAAhB;YAFM;UAAA,CAAA,CAAA,CAAA,IAAA,CADR;SApBF;QAyBA,OAAA,EAAS,SAAC,UAAD,EAAa,WAAb;UACP,OAAO,CAAC,GAAR,CAAY,kCAAZ;iBACA,QAAQ,CAAC,UAAT,CAAA;QAFO,CAzBT;;MA6BF,IAAC,CAAA,IAAD,CAAA;IAjCW;;0BAmCb,IAAA,GAAM,SAAA;MACJ,OAAO,CAAC,GAAR,CAAY,qCAAZ;aACA,IAAC,CAAA,WAAD,GAAe,IAAC,CAAA,KAAK,CAAC,WAAP,CAAmB,IAAC,CAAA,OAApB,CAA4B,CAAC,IAA7B,CAAkC,aAAlC;IAFX;;;;;AArCR","file":"transitions.js","sourceRoot":"/source/","sourcesContent":["class @Transitions\n  \n  constructor: ->\n    console.log '[Dropshop][Transitions] Initialising...'\n    @$page = $('#wrapper')\n    @options = \n      debug: true\n      prefetch: true\n      cacheLength: 2\n      forms: 'form'\n      loadingClass: 'loading'\n      blacklist: '.no-ajax'\n      onBefore: ($currentTarget, $container) ->\n        console.log '[Dropshop][Transitions] About to start new page load'\n      onStart:\n        duration: 250\n        render: ($container) =>\n          $container.addClass 'loading-out'\n          dropshop.onPageFetch()\n          @smoothState.restartCSSAnimations()\n          return\n      onProgress:\n        duration: 0,\n        render: ($container)-> \n          console.log '[Dropshop][Transitions] Still loading....'\n      onReady:\n        duration: 0\n        render: ($container, $newContent) =>\n          $container.removeClass 'loading-out'\n          $container.html $newContent\n          return\n      onAfter: ($container, $newContent)->\n        console.log '[Dropshop][Transitions] finished'\n        dropshop.onPageLoad()\n\n    @init()\n\n  init: ->\n    console.log '[Dropshop][Transitions] Initialised'\n    @smoothState = @$page.smoothState(@options).data('smoothState')"]}